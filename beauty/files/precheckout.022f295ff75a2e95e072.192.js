!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof module&&module.exports?module.exports=b():a.picoModal=b()}(this,function(){"use strict";function a(a){return"object"==typeof Node?a instanceof Node:a&&"object"==typeof a&&"number"==typeof a.nodeType}function b(a){return"string"==typeof a}function c(){var a=[];return{watch:a.push.bind(a),trigger:function(b,c){for(var d=!0,e={detail:c,preventDefault:function(){d=!1}},f=0;f<a.length;f++)a[f](b,e);return d}}}function d(a){return"none"===window.getComputedStyle(a).display}function e(a){this.elem=a}function f(a,b){return e.make(a("parent")).clazz("pico-overlay").clazz(a("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(a("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){a("overlayClose",!0)&&b()})}function g(a,b){var c=a("width","auto");"number"==typeof c&&(c=""+c+"px");var d=a("modalId","pico-"+l++),f=e.make(a("parent")).clazz("pico-content").clazz(a("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:c,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(a("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(a("content")).attr("id",d).attr("role","dialog").attr("aria-labelledby",a("ariaLabelledBy")).attr("aria-describedby",a("ariaDescribedBy",d)).onClick(function(a){var c=new e(a.target).anyAncestor(function(a){return/\bpico-close\b/.test(a.elem.className)});c&&b()});return f}function h(a,b){return b("closeButton",!0)?a.child("button").html(b("closeHtml","&#xD7;")).clazz("pico-close").clazz(b("closeClass","")).stylize(b("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",b("close-label","Close")):void 0}function i(a){return function(){return a().elem}}function j(a,b){function c(a,b){var c=a.msMatchesSelector||a.webkitMatchesSelector||a.matches;return c.call(a,b)}function e(a){return d(a)||c(a,":disabled")||a.hasAttribute("contenteditable")?!1:a.hasAttribute("tabindex")||c(a,"input,select,textarea,button,a[href],area[href],iframe")}function f(a){for(var b=a.getElementsByTagName("*"),c=0;c<b.length;c++)if(e(b[c]))return b[c]}function g(a){for(var b=a.getElementsByTagName("*"),c=b.length;c--;)if(e(b[c]))return b[c]}var h;a.beforeShow(function(){h=document.activeElement}),a.afterShow(function(){if(b()){var c=f(a.modalElem());c&&c.focus()}}),a.afterClose(function(){b()&&h&&h.focus(),h=null}),n.watch(function(c){if(b()&&a.isVisible()){var d=f(a.modalElem()),e=g(a.modalElem()),h=c.shiftKey?d:e;h===document.activeElement&&((c.shiftKey?e:d).focus(),c.preventDefault())}})}function k(a,b){var c,d=new e(document.body);a.beforeShow(function(){c=d.elem.style.overflow,b()&&d.stylize({overflow:"hidden"})}),a.afterClose(function(){d.stylize({overflow:c})})}e.make=function(a,b){"string"==typeof a&&(a=document.querySelector(a));var c=document.createElement(b||"div");return(a||document.body).appendChild(c),new e(c)},e.prototype={child:function(a){return e.make(this.elem,a)},stylize:function(a){a=a||{},"undefined"!=typeof a.opacity&&(a.filter="alpha(opacity="+100*a.opacity+")");for(var b in a)a.hasOwnProperty(b)&&(this.elem.style[b]=a[b]);return this},clazz:function(a){return this.elem.className+=" "+a,this},html:function(b){return a(b)?this.elem.appendChild(b):this.elem.innerHTML=b,this},onClick:function(a){return this.elem.addEventListener("click",a),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(a,b){return void 0!==b&&this.elem.setAttribute(a,b),this},anyAncestor:function(a){for(var b=this.elem;b;){if(a(new e(b)))return!0;b=b.parentNode}return!1},isVisible:function(){return!d(this.elem)}};var l=1,m=c(),n=c();return document.documentElement.addEventListener("keydown",function(a){var b=a.which||a.keyCode;27===b?m.trigger():9===b&&n.trigger(a)}),function(d){function e(a,b){var c=d[a];return"function"==typeof c&&(c=c(b)),void 0===c?b:c}function l(a){y().hide(),x().hide(),w.trigger(q,a)}function n(a){v.trigger(q,a)&&l(a)}function o(a){return function(){return a.apply(this,arguments),q}}function p(a,b){if(!r){var c=g(e,n);r={modal:c,overlay:f(e,n),close:h(c,e)},s.trigger(q,b)}return r[a]}(b(d)||a(d))&&(d={content:d});var q,r,s=c(),t=c(),u=c(),v=c(),w=c(),x=p.bind(window,"modal"),y=p.bind(window,"overlay"),z=p.bind(window,"close");return q={modalElem:i(x),closeElem:i(z),overlayElem:i(y),buildDom:o(p.bind(null,null)),isVisible:function(){return!!(r&&x&&x().isVisible())},show:function(a){return t.trigger(q,a)&&(y().show(),z(),x().show(),u.trigger(q,a)),this},close:o(n),forceClose:o(l),destroy:function(){x().destroy(),y().destroy(),y=x=z=void 0},options:function(a){Object.keys(a).map(function(b){d[b]=a[b]})},afterCreate:o(s.watch),beforeShow:o(t.watch),afterShow:o(u.watch),beforeClose:o(v.watch),afterClose:o(w.watch)},j(q,e.bind(null,"focus",!0)),k(q,e.bind(null,"bodyOverflow",!0)),m.watch(function(){e("escCloses",!0)&&q.isVisible()&&q.close()}),q}});
//baron
!function(t){function e(r){if(i[r])return i[r].exports;var s=i[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,i){"use strict";function r(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,o)}catch(t){}t.exports.event=function(t,e,i,r){var o="on"==r?"add":"remove";e.split(" ").forEach(function(e){var r=!1;-1!=["scroll","touchstart","touchmove"].indexOf(e)&&s&&(r={passive:!0}),t[o+"EventListener"](e,i,r)})},t.exports.css=function(t,e,i){var s;if(void 0===i){if("string"==typeof e)return t.style[e];s=e}else s={},s[e]=i;r(s,function(e,i){t.style[e]=i})},t.exports.add=function(t,e){e&&t.classList.add(e)},t.exports.rm=function(t,e){e&&t.classList.remove(e)},t.exports.has=function(t,e){return!!e&&t.classList.contains(e)},t.exports.clone=function(t){var e={};return r(t||{},function(t,i){e[t]=i}),e},t.exports.qs=function(t,e){return t instanceof HTMLElement?t:(e||document).querySelector(t)},t.exports.each=r},function(t,e,i){"use strict";function r(t){var e,i,r=t&&t[0]||t,s="string"==typeof t||r instanceof HTMLElement,o=s?{root:t}:m(t),n={direction:"v",barOnCls:"_scrollbar",resizeDebounce:0,event:p,cssGuru:!1,impact:"scroller",position:"static"};o=o||{};for(var a in n)null==o[a]&&(o[a]=n[a]);e=this&&this instanceof u.jQuery,o._chain?i=o.root:e?o.root=i=this[0]:i=b(o.root||o.scroller);var h=l(i,o.direction),f=+h;if(o.index=f,f==f&&null!==h&&z[f])return z[f];o.root&&o.scroller?o.scroller=b(o.scroller,i):o.scroller=i,o.root=i;var d=c(o);return d.autoUpdate&&d.autoUpdate(),d}function s(t,e){var i=0,r=t;for(void 0!==r.length&&r!==u||(r=[r]);r[i];)e.call(this,r[i],i),i++}function o(){return(new Date).getTime()}function n(t,e,i){t._eventHandlers=t._eventHandlers||[{element:t.scroller,handler:function(e){t.scroll(e)},type:"scroll"},{element:t.root,handler:function(){t.update()},type:"transitionend animationend"},{element:t.scroller,handler:function(){t.update()},type:"keyup"},{element:t.bar,handler:function(e){e.preventDefault(),t.selection(),t.drag.now=1,t.draggingCls&&d(t.root,t.draggingCls)},type:"touchstart mousedown"},{element:document,handler:function(){t.selection(1),t.drag.now=0,t.draggingCls&&g(t.root,t.draggingCls)},type:"mouseup blur touchend"},{element:document,handler:function(e){2!=e.button&&t._pos0(e)},type:"touchstart mousedown"},{element:document,handler:function(e){t.drag.now&&t.drag(e)},type:"mousemove touchmove"},{element:u,handler:function(){t.update()},type:"resize"},{element:t.root,handler:function(){t.update()},type:"sizeChange"},{element:t.clipper,handler:function(){t.clipperOnScroll()},type:"scroll"}],s(t._eventHandlers,function(t){if(t.element)if(t.element.length&&t.element!==u)for(var r=0;r<t.element.length;r++)e(t.element[r],t.type,t.handler,i);else e(t.element,t.type,t.handler,i)})}function l(t,e,i,r){var s="data-baron-"+e+"-id";return"on"==i?t.setAttribute(s,r):"off"==i&&t.removeAttribute(s),t.getAttribute(s)}function c(t){var e=new r.prototype.constructor(t);return n(e,t.event,"on"),l(e.root,t.direction,"on",z.length),z.push(e),e.update(),e}function a(t){if(this.events&&this.events[t])for(var e=0;e<this.events[t].length;e++){var i=Array.prototype.slice.call(arguments,1);this.events[t][e].apply(this,i)}}var h=function(){return this||(0,eval)("this")}(),u=h&&h.window||h,p=i(0).event,f=i(0).css,d=i(0).add,v=i(0).has,g=i(0).rm,m=i(0).clone,b=i(0).qs,y=r,x=["left","top","right","bottom","width","height"],z=[],w={v:{x:"Y",pos:x[1],oppos:x[3],crossPos:x[0],crossOpPos:x[2],size:x[5],crossSize:x[4],crossMinSize:"min-"+x[4],crossMaxSize:"max-"+x[4],client:"clientHeight",crossClient:"clientWidth",scrollEdge:"scrollLeft",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:x[0],oppos:x[2],crossPos:x[1],crossOpPos:x[3],size:x[4],crossSize:x[5],crossMinSize:"min-"+x[5],crossMaxSize:"max-"+x[5],client:"clientWidth",crossClient:"clientHeight",scrollEdge:"scrollTop",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},C=15,S=/[\s\S]*Macintosh[\s\S]*\) Gecko[\s\S]*/,_=S.test(u.navigator&&u.navigator.userAgent);r.prototype={_debounce:function(t,e){var i,r,s=this,n=function(){if(s._disposed)return clearTimeout(i),void(i=s=null);var l=o()-r;l<e&&l>=0?i=setTimeout(n,e-l):(i=null,t())};return function(){r=o(),i||(i=setTimeout(n,e))}},constructor:function(t){function e(t){var e=this.barMinSize||20,i=t;i>0&&i<e&&(i=e),this.bar&&f(this.bar,this.origin.size,parseInt(i,10)+"px")}function i(t){if(this.bar){var e=f(this.bar,this.origin.pos),i=+t+"px";i&&i!=e&&f(this.bar,this.origin.pos,i)}}function r(){return p[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function s(t){return t*r.call(this)+this.barTopLimit}function n(t){return(t-this.barTopLimit)/r.call(this)}function l(){return!1}var c,h,p,m,y,x,z;if(x=o(),this.params=t,this.event=t.event,this.events={},this.root=t.root,this.scroller=b(t.scroller),this.bar=b(t.bar,this.root),p=this.track=b(t.track,this.root),!this.track&&this.bar&&(p=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=t.direction,this.rtl=t.rtl,this.origin=w[this.direction],this.barOnCls=t.barOnCls,this.scrollingCls=t.scrollingCls,this.draggingCls=t.draggingCls,this.impact=t.impact,this.position=t.position,this.rtl=t.rtl,this.barTopLimit=0,this.resizeDebounce=t.resizeDebounce,this.cursor=function(t){return t["client"+this.origin.x]||(((t.originalEvent||t).touches||{})[0]||{})["page"+this.origin.x]},this.pos=function(t){var e="page"+this.origin.x+"Offset",i=this.scroller[e]?e:this.origin.scroll;return void 0!==t&&(this.scroller[i]=t),this.scroller[i]},this.rpos=function(t){var e=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];return(t?this.pos(t*e):this.pos())/(e||1)},this.barOn=function(t){if(this.barOnCls){var e=this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize];t||e?v(this.root,this.barOnCls)&&g(this.root,this.barOnCls):v(this.root,this.barOnCls)||d(this.root,this.barOnCls)}},this._pos0=function(t){h=this.cursor(t)-c},this.drag=function(t){var e=n.call(this,this.cursor(t)-h),i=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];this.scroller[this.origin.scroll]=e*i},this.selection=function(t){this.event(document,"selectpos selectstart",l,t?"off":"on")},this.resize=function(){function t(){var t,i,r=e.scroller[e.origin.crossOffset],s=e.scroller[e.origin.crossClient],n=0;if(_?n=C:s>0&&0===r&&(r=s+17),r)if(e.barOn(),"scroller"==e.impact){var l=r-s+n;if("static"==e.position)t=f(e.scroller,e.origin.crossSize),i=e.clipper[e.origin.crossClient]+l+"px",t!=i&&e._setCrossSizes(e.scroller,i);else{var c={},h=e.rtl?"Left":"Right";"h"==e.direction&&(h="Bottom"),c["padding"+h]=l+"px",f(e.scroller,c)}}else t=f(e.clipper,e.origin.crossSize),i=s+"px",t!=i&&e._setCrossSizes(e.clipper,i);Array.prototype.unshift.call(arguments,"resize"),a.apply(e,arguments),x=o()}var e=this,i=void 0===e.resizeDebounce?300:e.resizeDebounce,r=0;o()-x<i&&(clearTimeout(m),r=i),r?m=setTimeout(t,r):t()},this.updatePositions=function(t){var r,o=this;o.bar&&(r=(p[o.origin.client]-o.barTopLimit)*o.scroller[o.origin.client]/o.scroller[o.origin.scrollSize],(t||parseInt(z,10)!=parseInt(r,10))&&(e.call(o,r),z=r),c=s.call(o,o.rpos()),i.call(o,c)),Array.prototype.unshift.call(arguments,"scroll"),a.apply(o,arguments)},this.scroll=function(){var t=this;t.updatePositions(),t.scrollingCls&&(y||d(t.root,t.scrollingCls),clearTimeout(y),y=setTimeout(function(){g(t.root,t.scrollingCls),y=void 0},300))},this.clipperOnScroll=function(){this.rtl?this.clipper[this.origin.scrollEdge]=this.clipper[this.origin.scrollSize]:this.clipper[this.origin.scrollEdge]=0},this._setCrossSizes=function(t,e){var i={};i[this.origin.crossSize]=e,i[this.origin.crossMinSize]=e,i[this.origin.crossMaxSize]=e,f(t,i)},this._dumbCss=function(e){if(!t.cssGuru){var i=e?"hidden":null,r=e?"none":null;f(this.clipper,{overflow:i,msOverflowStyle:r,position:"static"==this.position?"":"relative"});var s=e?"scroll":null,o="v"==this.direction?"y":"x",n={};n["overflow-"+o]=s,n["box-sizing"]="border-box",n.margin="0",n.border="0","absolute"==this.position&&(n.position="absolute",n.top="0","h"==this.direction?n.left=n.right="0":(n.bottom="0",n.right=this.rtl?"0":"",n.left=this.rtl?"":"0")),f(this.scroller,n)}},this._dumbCss(!0),_){var S="paddingRight",O={},T=u.getComputedStyle(this.scroller)[[S]];"h"==t.direction?S="paddingBottom":t.rtl&&(S="paddingLeft");var L=parseInt(T,10);L!=L&&(L=0),O[S]=C+L+"px",f(this.scroller,O)}return this},update:function(t){return a.call(this,"upd",t),this.resize(1),this.updatePositions(1),this},dispose:function(){n(this,this.event,"off"),l(this.root,this.params.direction,"off"),"v"==this.params.direction?this._setCrossSizes(this.scroller,""):this._setCrossSizes(this.clipper,""),this._dumbCss(!1),this.barOn(!0),a.call(this,"dispose"),z[this.params.index]=null,this.params=null,this._disposed=!0},on:function(t,e,i){for(var r=t.split(" "),s=0;s<r.length;s++)"init"==r[s]?e.call(this,i):(this.events[r[s]]=this.events[r[s]]||[],this.events[r[s]].push(function(t){e.call(this,t||i)}))},baron:function(t){return t.root=this.params.root,t.scroller=this.params.scroller,t.direction="v"==this.params.direction?"h":"v",t._chain=!0,r(t)}},r.prototype.constructor.prototype=r.prototype,r.noConflict=function(){return u.baron=y,r},r.version="3.0.1",r.prototype.autoUpdate=i(2)(u),r.prototype.fix=i(5),r.prototype.controls=i(4),t.exports=r},function(t,e,i){"use strict";function r(t){function e(){o.root[o.origin.offset]?r():i()}function i(){s||(s=setInterval(function(){o.root[o.origin.offset]&&(r(),o.update())},300))}function r(){clearInterval(s),s=null}var s,o=this;if(!this._au){var n=o._debounce(function(){o.update()},300);this._observer=new t(function(){e(),o.update(),n()}),this.on("init",function(){o._observer.observe(o.root,{childList:!0,subtree:!0,characterData:!0}),e()}),this.on("dispose",function(){o._observer.disconnect(),r(),delete o._observer}),this._au=!0}}t.exports=function(t){var e=t.MutationObserver||t.WebKitMutationObserver||t.MozMutationObserver||null;return function(){return e?(r.call(this,e),this):this}}},function(t,e,i){var r=i(1);window.baron=r,window.jQuery&&window.jQuery.fn&&(window.jQuery.fn.baron=r)},function(t,e,i){"use strict";var r=i(0).qs;t.exports=function(t){var e,i,s,o,n,l=this;o=t.screen||.9,t.forward&&(e=r(t.forward,this.clipper),n={element:e,handler:function(){var e=l.pos()+(t.delta||30);l.pos(e)},type:"click"},this._eventHandlers.push(n),this.event(n.element,n.type,n.handler,"on")),t.backward&&(i=r(t.backward,this.clipper),n={element:i,handler:function(){var e=l.pos()-(t.delta||30);l.pos(e)},type:"click"},this._eventHandlers.push(n),this.event(n.element,n.type,n.handler,"on")),t.track&&(s=!0===t.track?this.track:r(t.track,this.clipper))&&(n={element:s,handler:function(t){if(t.target==s){var e=t["offset"+l.origin.x],i=l.bar[l.origin.offsetPos],r=0;e<i?r=-1:e>i+l.bar[l.origin.offset]&&(r=1);var n=l.pos()+r*o*l.scroller[l.origin.client];l.pos(n)}},type:"mousedown"},this._eventHandlers.push(n),this.event(n.element,n.type,n.handler,"on"))}},function(t,e,i){"use strict";var r=(i(6),i(0).css),s=i(0).add,o=i(0).rm;t.exports=function(t){function e(t,e,i){var n=e,h=1==i?"pos":"oppos";c<(a.minView||0)&&(n=void 0),r(l[t],this.origin.pos,""),r(l[t],this.origin.oppos,""),o(l[t],a.outside),void 0!==n&&(n+="px",r(l[t],this.origin[h],n),s(l[t],a.outside))}function i(t){try{var e=document.createEvent("WheelEvent");e.initWebKitWheelEvent(t.originalEvent.wheelDeltaX,t.originalEvent.wheelDeltaY),f.dispatchEvent(e),t.preventDefault()}catch(t){}}function n(t){var e;for(var s in t)a[s]=t[s];if(a.elements instanceof HTMLElement?l=[a.elements]:"string"==typeof a.elements?l=this.scroller.querySelectorAll(a.elements):a.elements&&a.elements[0]instanceof HTMLElement&&(l=a.elements),l){c=this.scroller[this.origin.client];for(var o=0;o<l.length;o++)e={},e[this.origin.size]=l[o][this.origin.offset]+"px",l[o].parentNode!==this.scroller&&r(l[o].parentNode,e),e={},e[this.origin.crossSize]=l[o].parentNode[this.origin.crossClient]+"px",r(l[o],e),c-=l[o][this.origin.offset],p[o]=l[o].parentNode[this.origin.offsetPos],h[o]=h[o-1]||0,u[o]=u[o-1]||Math.min(p[o],0),l[o-1]&&(h[o]+=l[o-1][this.origin.offset],u[o]+=l[o-1][this.origin.offset]),0==o&&0==p[o]||(this.event(l[o],"mousewheel",i,"off"),this.event(l[o],"mousewheel",i));a.limiter&&l[0]&&(this.track&&this.track!=this.scroller?(e={},e[this.origin.pos]=l[0].parentNode[this.origin.offset]+"px",r(this.track,e)):this.barTopLimit=l[0].parentNode[this.origin.offset],this.scroll()),!1===a.limiter&&(this.barTopLimit=0)}var n={element:l,handler:function(){for(var t,e=this.parentNode,i=e.offsetTop,r=0;r<l.length;r++)l[r]===this&&(t=r);var s=i-h[t];a.scroll?a.scroll({x1:v.scroller.scrollTop,x2:s}):v.scroller.scrollTop=s},type:"click"};if(a.clickable){this._eventHandlers.push(n);for(var f=0;f<n.element.length;f++)d(n.element[f],n.type,n.handler,"on")}}var l,c,a={outside:"",inside:"",before:"",after:"",past:"",future:"",radius:0,minView:0},h=[],u=[],p=[],f=this.scroller,d=this.event,v=this;this.on("init",n,t);var g=[],m=[];return this.on("init scroll",function(){var t,i,r,n;if(l){var f;for(n=0;n<l.length;n++)t=0,p[n]-this.pos()<u[n]+a.radius?(t=1,i=h[n]):p[n]-this.pos()>u[n]+c-a.radius?(t=2,i=this.scroller[this.origin.client]-l[n][this.origin.offset]-h[n]-c):(t=3,i=void 0),r=!1,(p[n]-this.pos()<u[n]||p[n]-this.pos()>u[n]+c)&&(r=!0),t==g[n]&&r==m[n]||(e.call(this,n,i,t),g[n]=t,m[n]=r,f=!0);if(f)for(n=0;n<l.length;n++)1==g[n]&&a.past&&(s(l[n],a.past),o(l[n],a.future)),2==g[n]&&a.future&&(s(l[n],a.future),o(l[n],a.past)),3==g[n]&&(o(l[n],a.past),o(l[n],a.future),s(l[n],a.inside)),g[n]!=g[n+1]&&1==g[n]?(s(l[n],a.before),o(l[n],a.after)):g[n]!=g[n-1]&&2==g[n]?(s(l[n],a.after),o(l[n],a.before)):(o(l[n],a.before),o(l[n],a.after)),a.grad&&(m[n]?s(l[n],a.grad):o(l[n],a.grad))}}),this.on("resize upd",function(t){n.call(this,t&&t.fix)}),this}},function(t,e){t.exports=function(t,e,i){var r=console[t]||console.log,s=["Baron: "+e,i];Function.prototype.apply.call(r,console,s)}}]);
//webfontloader
!function(){function e(t,n,i){return t.call.apply(t.bind,arguments)}function o(n,i,t){if(!n)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,e),n.apply(i,t)}}return function(){return n.apply(i,arguments)}}function d(t,n,i){return(d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function n(t,n){this.a=t,this.o=n||t,this.c=this.o.document}var r=!!window.FontFace;function f(t,n,i,e){if(n=t.c.createElement(n),i)for(var o in i)i.hasOwnProperty(o)&&("style"==o?n.style.cssText=i[o]:n.setAttribute(o,i[o]));return e&&n.appendChild(t.c.createTextNode(e)),n}function c(t,n,i){(t=(t=t.c.getElementsByTagName(n)[0])||document.documentElement).insertBefore(i,t.lastChild)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,n,i){n=n||[],i=i||[];for(var e=t.className.split(/\s+/),o=0;o<n.length;o+=1){for(var a=!1,s=0;s<e.length;s+=1)if(n[o]===e[s]){a=!0;break}a||e.push(n[o])}for(n=[],o=0;o<e.length;o+=1){for(a=!1,s=0;s<i.length;s+=1)if(e[o]===i[s]){a=!0;break}a||n.push(e[o])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function a(t,n){for(var i=t.className.split(/\s+/),e=0,o=i.length;e<o;e++)if(i[e]==n)return!0;return!1}function h(t,n,i){function e(){s&&o&&(s(a),s=null)}n=f(t,"link",{rel:"stylesheet",href:n,media:"all"});var o=!1,a=null,s=i||null;r?(n.onload=function(){o=!0,e()},n.onerror=function(){o=!0,a=Error("Stylesheet failed to load"),e()}):setTimeout(function(){o=!0,e()},0),c(t,"head",n)}function l(t,n,i,e){var o=t.c.getElementsByTagName("head")[0];if(o){var a=f(t,"script",{src:n}),s=!1;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&o.removeChild(a))},o.appendChild(a),setTimeout(function(){s||(s=!0,i&&i(Error("Script load timeout")))},e||5e3),a}return null}function u(){this.a=0,this.c=null}function p(t){return t.a++,function(){t.a--,w(t)}}function v(t,n){t.c=n,w(t)}function w(t){0==t.a&&t.c&&(t.c(),t.c=null)}function m(t){this.a=t||"-"}function y(t,n){this.c=t,this.f=4,this.a="n";var i=(n||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function b(t){var n=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var e=t[i].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?n.push("'"+e+"'"):n.push(e)}return n.join(",")}function x(t){return t.a+t.f}function j(t){var n="normal";return"o"===t.a?n="oblique":"i"===t.a&&(n="italic"),n}function _(t,n){this.c=t,this.f=t.o.document.documentElement,this.h=n,this.a=new m("-"),this.j=!1!==n.events,this.g=!1!==n.classes}function k(t){if(t.g){var n=a(t.f,t.a.c("wf","active")),i=[],e=[t.a.c("wf","loading")];n||i.push(t.a.c("wf","inactive")),g(t.f,i,e)}T(t,"inactive")}function T(t,n,i){t.j&&t.h[n]&&(i?t.h[n](i.c,x(i)):t.h[n]())}function S(){this.c={}}function C(t,n){this.c=t,this.f=n,this.a=f(this.c,"span",{"aria-hidden":"true"},this.f)}function A(t){c(t.c,"body",t.a)}function N(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+b(t.c)+";font-style:"+j(t)+";font-weight:"+t.f+"00;"}function E(t,n,i,e,o,a){this.g=t,this.j=n,this.a=e,this.c=i,this.f=o||3e3,this.h=a||void 0}function W(t,n,i,e,o,a,s){this.v=t,this.B=n,this.c=i,this.a=e,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new C(this.c,this.s),this.h=new C(this.c,this.s),this.j=new C(this.c,this.s),this.m=new C(this.c,this.s),t=N(t=new y(this.a.c+",serif",x(this.a))),this.g.a.style.cssText=t,t=N(t=new y(this.a.c+",sans-serif",x(this.a))),this.h.a.style.cssText=t,t=N(t=new y("serif",x(this.a))),this.j.a.style.cssText=t,t=N(t=new y("sans-serif",x(this.a))),this.m.a.style.cssText=t,A(this.g),A(this.h),A(this.j),A(this.m)}m.prototype.c=function(t){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)},E.prototype.start=function(){var e=this.c.o.document,o=this,a=s(),t=new Promise(function(i,t){!function n(){s()-a>=o.f?t():e.fonts.load(function(t){return j(t)+" "+t.f+"00 300px "+b(t.c)}(o.a),o.h).then(function(t){1<=t.length?i():setTimeout(n,25)},function(){t()})}()}),i=null,n=new Promise(function(t,n){i=setTimeout(n,o.f)});Promise.race([n,t]).then(function(){i&&(clearTimeout(i),i=null),o.g(o.a)},function(){o.j(o.a)})};var F={D:"serif",C:"sans-serif"},I=null;function O(){if(null===I){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);I=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return I}function P(t,n,i){for(var e in F)if(F.hasOwnProperty(e)&&n===t.f[F[e]]&&i===t.f[F[e]])return!0;return!1}function B(t){var n,i=t.g.a.offsetWidth,e=t.h.a.offsetWidth;(n=i===t.f.serif&&e===t.f["sans-serif"])||(n=O()&&P(t,i,e)),n?s()-t.A>=t.w?O()&&P(t,i,e)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?L(t,t.v):L(t,t.B):function(t){setTimeout(d(function(){B(this)},t),50)}(t):L(t,t.v)}function L(t,n){setTimeout(d(function(){i(this.g.a),i(this.h.a),i(this.j.a),i(this.m.a),n(this.a)},t),0)}function D(t,n,i){this.c=t,this.a=n,this.f=0,this.m=this.j=!1,this.s=i}W.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),B(this)};var $=null;function q(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&g(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),T(t,"active")):k(t.a))}function t(t){this.j=t,this.a=new S,this.h=0,this.f=this.g=!0}function H(t,n){this.c=t,this.a=n}function M(t,n){this.c=t,this.a=n}function z(t,n){this.c=t||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=n||""}D.prototype.g=function(t){var n=this.a;n.g&&g(n.f,[n.a.c("wf",t.c,x(t).toString(),"active")],[n.a.c("wf",t.c,x(t).toString(),"loading"),n.a.c("wf",t.c,x(t).toString(),"inactive")]),T(n,"fontactive",t),this.m=!0,q(this)},D.prototype.h=function(t){var n=this.a;if(n.g){var i=a(n.f,n.a.c("wf",t.c,x(t).toString(),"active")),e=[],o=[n.a.c("wf",t.c,x(t).toString(),"loading")];i||e.push(n.a.c("wf",t.c,x(t).toString(),"inactive")),g(n.f,e,o)}T(n,"fontinactive",t),q(this)},t.prototype.load=function(t){this.c=new n(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(o,t,n){var i=[],e=n.timeout;!function(t){t.g&&g(t.f,[t.a.c("wf","loading")]),T(t,"loading")}(t);i=function(t,n,i){var e,o=[];for(e in n)if(n.hasOwnProperty(e)){var a=t.c[e];a&&o.push(a(n[e],i))}return o}(o.a,n,o.c);var a=new D(o.c,t,e);for(o.h=i.length,t=0,n=i.length;t<n;t++)i[t].load(function(t,n,i){var e,c,h,l,u,p;c=a,h=t,l=n,u=i,p=0==--(e=o).h,(e.f||e.g)&&setTimeout(function(){var t=u||null,n=l||{};if(0===h.length&&p)k(c.a);else{c.f+=h.length,p&&(c.j=p);var i,e=[];for(i=0;i<h.length;i++){var o=h[i],a=n[o.c],s=c.a,r=o;if(s.g&&g(s.f,[s.a.c("wf",r.c,x(r).toString(),"loading")]),T(s,"fontloading",r),(s=null)===$)if(window.FontFace){var r=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),f=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);$=r?42<parseInt(r[1],10):!f}else $=!1;s=$?new E(d(c.g,c),d(c.h,c),c.c,o,c.s,a):new W(d(c.g,c),d(c.h,c),c.c,o,c.s,t,a),e.push(s)}for(i=0;i<e.length;i++)e[i].start()}},0)})}(this,new _(this.c,t),t)},H.prototype.load=function(s){var n=this,r=n.a.projectId,t=n.a.version;if(r){var f=n.c.o;l(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(t?"?v="+t:""),function(t){t?s([]):(f["__MonotypeConfiguration__"+r]=function(){return n.a},function t(){if(f["__mti_fntLst"+r]){var n,i=f["__mti_fntLst"+r](),e=[];if(i)for(var o=0;o<i.length;o++){var a=i[o].fontfamily;null!=i[o].fontStyle&&null!=i[o].fontWeight?(n=i[o].fontStyle+i[o].fontWeight,e.push(new y(a,n))):e.push(new y(a))}s(e)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+r}else s([])},M.prototype.load=function(t){var n,i,e=this.a.urls||[],o=this.a.families||[],a=this.a.testStrings||{},s=new u;for(n=0,i=e.length;n<i;n++)h(this.c,e[n],p(s));var r=[];for(n=0,i=o.length;n<i;n++)if((e=o[n].split(":"))[1])for(var f=e[1].split(","),c=0;c<f.length;c+=1)r.push(new y(e[0],f[c]));else r.push(new y(e[0]));v(s,function(){t(r,a)})};function G(t){this.f=t,this.a=[],this.c={}}var K={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},R={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},U={i:"i",italic:"i",n:"n",normal:"n"},V=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function X(t,n){this.c=t,this.a=n}var J={Arimo:!0,Cousine:!0,Tinos:!0};function Q(t,n){this.c=t,this.a=n}function Y(t,n){this.c=t,this.f=n,this.a=[]}X.prototype.load=function(t){var n=new u,i=this.c,e=new z(this.a.api,this.a.text),o=this.a.families;!function(t,n){for(var i=n.length,e=0;e<i;e++){var o=n[e].split(":");3==o.length&&t.f.push(o.pop());var a="";2==o.length&&""!=o[1]&&(a=":"),t.a.push(o.join(a))}}(e,o);var a=new G(o);!function(t){for(var n=t.f.length,i=0;i<n;i++){var e=t.f[i].split(":"),o=e[0].replace(/\+/g," "),a=["n4"];if(2<=e.length){var s;if(s=[],r=e[1])for(var r,f=(r=r.split(",")).length,c=0;c<f;c++){var h;if((h=r[c]).match(/^[\w-]+$/))if(null==(u=V.exec(h.toLowerCase())))h="";else{if(h=null==(h=u[2])||""==h?"n":U[h],null==(u=u[1])||""==u)u="4";else var l=R[u],u=l||(isNaN(u)?"4":u.substr(0,1));h=[h,u].join("")}else h="";h&&s.push(h)}0<s.length&&(a=s),3==e.length&&(s=[],0<(e=(e=e[2])?e.split(","):s).length&&(e=K[e[0]])&&(t.c[o]=e))}for(t.c[o]||(e=K[o])&&(t.c[o]=e),e=0;e<a.length;e+=1)t.a.push(new y(o,a[e]))}}(a),h(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,i=[],e=0;e<n;e++)i.push(t.a[e].replace(/ /g,"+"));return n=t.c+"?family="+i.join("%7C"),0<t.f.length&&(n+="&subset="+t.f.join(",")),0<t.g.length&&(n+="&text="+encodeURIComponent(t.g)),n}(e),p(n)),v(n,function(){t(a.a,a.c,J)})},Q.prototype.load=function(s){var t=this.a.id,r=this.c.o;t?l(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)s([]);else if(r.Typekit&&r.Typekit.config&&r.Typekit.config.fn){t=r.Typekit.config.fn;for(var n=[],i=0;i<t.length;i+=2)for(var e=t[i],o=t[i+1],a=0;a<o.length;a++)n.push(new y(e,o[a]));try{r.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}s(n)}},2e3):s([])},Y.prototype.load=function(c){var t=this.f.id,n=this.c.o,h=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,e=n.fonts.length;i<e;++i){var o=n.fonts[i];h.a.push(new y(o.name,(a="font-weight:"+o.weight+";font-style:"+o.style,f=r=s=void 0,s=4,r="n",f=null,a&&((f=a.match(/(normal|oblique|italic)/i))&&f[1]&&(r=f[1].substr(0,1).toLowerCase()),(f=a.match(/([1-9]00|normal|bold)/i))&&f[1]&&(/bold/i.test(f[1])?s=7:/[1-9]00/.test(f[1])&&(s=parseInt(f[1].substr(0,1),10)))),r+s)))}var a,s,r,f;c(h.a)},l(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+t+".js",function(t){t&&c([])})):c([])};var Z=new t(window);Z.a.c.custom=function(t,n){return new M(n,t)},Z.a.c.fontdeck=function(t,n){return new Y(n,t)},Z.a.c.monotype=function(t,n){return new H(n,t)},Z.a.c.typekit=function(t,n){return new Q(n,t)},Z.a.c.google=function(t,n){return new X(n,t)};var tt={load:d(Z.load,Z)};"function"==typeof define&&define.amd?define(function(){return tt}):"undefined"!=typeof module&&module.exports?module.exports=tt:(window.WebFont=tt,window.WebFontConfig&&Z.load(window.WebFontConfig))}();

!function(){"use strict";var p={},f=!1;function e(t){if(t){this.triggers=t.triggers,this.updater=null,this.integrations={};try{this.incarts=t.incarts,this.settings=t.settings,this.subscriptions=t.subscription_tags,this._integrations=t.integrations||function(){return{}}}catch(t){console.log(t),l()}}}function l(t){var e=t instanceof Error,i={redirect:!0};return r.cartUpdated?(e&&console.error(t),e||(i.incarts=t),f?void 0:(r.cartUpdated=!1,t&&t.data&&t.data.redirect_url&&(i.redirect_url=t.data.redirect_url),window.oneClickUpsellGetCheckoutUrl(i))):function(t){r.cartUpdated=!0;var e=!t||/skipped|declined/.test(t.status)||!t.status||Number.isInteger(t.status);if(r.updater.payload.note&&e)return r.updater.updateCart().then(function(){return l(t)});return l(t)}(t)}window.OCUPrecheckout=function(t){new e(window.OCUIncart).init(t)},e.prototype={init:function(t){if(this.countdown=new o,t.preview)return this.initPreviewMode(t);p=t.utils,this._initUpdater(t.Updater);var e=t.utils.store.get("fallback").id;clearTimeout(e);var i="true"===p.cookie.get("ocu_popup_staged"),r="accept_or_decline"===this.settings.popup_frequency,n="everytime"===this.settings.popup_frequency;if(i&&!r&&!n)return l();(r||n)&&this.countdown.adjustTime(),this.actionType="skipped",h.getCart().then(this.handleCart.bind(this)).catch(l)},initIntegrations:function(){this.integrations=this._integrations(this.cart.items)},handleCart:function(t){t&&(this.cart=t.data),this.cart&&this.initIntegrations();var e="true"===p.cookie.get("ocu_popup_staged"),i="once"===this.settings.popup_frequency;if(e&&i)return this.checkOfferBeforeCheckout();var r="accept_or_decline"===this.settings.popup_frequency,n="everytime"===this.settings.popup_frequency;(r||n)&&this.countdown.adjustTime();var o=p.cookie.get("ocu_popup_token");if("everytime"===this.settings.popup_frequency||!o||o!==this.cart.token||"accept_or_decline"===this.settings.popup_frequency&&!o){var a=m.isSameCart(this.cart),c=m.isSameCartToken(this.cart),s="";a||c||p.cookie.remove("ocu_popup_ids");var u=p.cookie.get("ocu_popup_ids");u&&(s+="split_test_weight=".concat(u,"&"));m.getIdsInCart(this.cart,"product_id",{}),m.getIdsInCart(this.cart,"variant_id",this.integrations);var d=m.getCartItems(this.cart);return d.cart_token=this.cart.token,h.getPopup(s,d).then(this.handlePopup.bind(this)).catch(l)}this.checkOfferBeforeCheckout()},handlePopup:function(t){this.shownId=t.data.offer_id,this.isVariantReplaced=t.data.replacing_variant_id,this.cartProductVariant=m.getReplacedId(this.cart,t.data.replacing_variant_id,this.integrations)||t.data.replacing_product_id,p.cookie.set("ocu_popup_ids",t.data.split_test_weight),this.popup=new i(t.data.popup_html,this.onPopupCreate.bind(this),this._skipOffer.bind(this)),document.querySelector("[data-ocu-template-type]")||(this.popup.modal.overlayElem().addEventListener("click",function(){this._skipOffer()}.bind(this)),this.popup.show(),"once"===this.settings.popup_frequency&&p.cookie.set("ocu_popup_token",this.cart.token),p.cookie.set("ocu_popup_staged",!0))},onPopupCreate:function(t){m.isTimerEnabled&&this.countdown.init(null,t.modalElem()),this.listenEvents(t),this.initSelectors(t.modalElem()),document.body.style.marginRight="calc(-1 * (100vw - 100%))",m.isTablet&&(document.body.style.position="fixed")},checkOfferBeforeCheckout:function(){if(!this.cart.items.find(function(t){return t.properties&&t.properties._ocu_offer_id}))return l();var t={checkout:{line_items:m.getCartItems(this.cart).line_items,cart_token:this.cart.token,verify_draft_order:!0}};h.verifyPrePurchase(t).then(l).catch(l)},initSelectors:function(i){var r=this;function n(){var t=!!i.querySelector("[data-product-description]").innerText.trim(),e=i.querySelector("[data-description-container]");t||f||e.classList.add("ocu-hidden"),e.classList.toggle("no-description",!t&&f)}return this.product=i.querySelector("[data-ocu-incart-variants]").value.trim(),this.quantity=i.querySelector("[data-quantity-input]"),this.moneyFormat=window.OCUIncart&&window.OCUIncart.money_format,this.currency=this.cart?this.cart.currency:"USD",h.getProduct(this.product).then(function(t){var e=m.parseAvailableVariants(i);if(i.querySelector(".ocu-image__large").classList.remove("ocu-hidden"),e&&!e.length)return l(r.upsellConfig(r.popupType,"skipped"));f&&Array.from(i.querySelectorAll(".selector-wrapper"),function(t){return t.remove()}),r.initOptionsSelectors(m.formatProduct(t.data.product,e),r.onSelectVariant.bind(r)),f||r.initComponents(i),n()}).catch(function(t){return console.log(t),f?(n(),void i.querySelector(".ocu-image__large").classList.remove("ocu-hidden")):l()})},listenEvents:function(e){var i=e.modalElem(),t=i.querySelector("[data-ocu-buy-button]"),r=i.querySelector("[data-ocu-close-popup]"),n=i.querySelector("[data-ocu-decline]"),o=this;n.addEventListener("click",function(t){t.preventDefault(),i.querySelector("[data-ocu-buy-button]").disabled||(m.loader(i,!1),o.actionType="declined",o._skipOffer())}),t.addEventListener("click",function(t){t.target.disabled=!0,o.actionType="accepted",o._handleBuyButton(i)}),o._handleButtonBehaviour(t),o._handleButtonBehaviour(n),r.addEventListener("click",function(t){o.actionType="skipped",o.handleClose(t,e,null)}),this.countdown.onTimerEnd=this._skipOffer.bind(this);var a=document.querySelector("[data-no-image]").dataset.noImage;Array.prototype.forEach.call(document.querySelectorAll("[data-offer-image]"),function(t){t.addEventListener("error",function(){this.src=a,this.dataset.imageError=!0})})},onSelectVariant:function(e){var t,i,r,n,o,a,c,s,u,d,p,l,h;e&&(f&&(this.moneyFormat=document.querySelector("[data-shop-money-format]").value,this.currency=document.querySelector("[data-shop-currency]").value),this.precheckoutOfferVariant=e,this.countdown.precheckoutOfferVariant=e,i=(t=this.popup?this.popup.modal.modalElem():document).querySelector("[data-ocu-price-save]"),n="none"===(r=t.querySelector("[data-ocu-price-save-type]").dataset.ocuPriceSaveType),o=+i.dataset.ocuPriceSave||0,a="true"===i.dataset.ocuSavingsEnabled&&"none"!==r,c=this.calcDiscountPrice(r,o,e.price),s=t.querySelector("[data-ocu-price-has]"),d=!1,(u=t.querySelector("[data-ocu-price-was]")).innerHTML=y.formatNumber(e.price,this.moneyFormat,this.currency),p={price:e.price,discounted_price:this.discountVariants?this.discountVariants[e.id.toString()]:c},l={save:i,was:u,has:s},"compare_at_price"===r&&(d=this.handleCompareAtPrice(e,u,s,i)),/amount|percent/.test(r)&&(d=this.handleDiscountPrice(p,l)),"none"===r&&(d=this._setOCUPriceSave(y.formatNumber(0,this.moneyFormat,this.currency))),0===d&&(d=!0),this._showDiscountedLabels(t,r),this._showPriceLabels(t,n?u:s,"has-price"),this._showPriceLabels(t,u,"was-price"),this._showQuantityLabels(t),d=!!d,this._showDiscountedPriceBreakdown(d,a&&d,s,u,i),(h=t.querySelector("[data-ocu-upgrade-image]"))&&"true"!==h.dataset.imageOnly&&(this.precheckoutOffer.images.length?this.precheckoutOffer.images.forEach(function(t){null===e.image_id&&(h.src=h.dataset.imageFallback),e.image_id===t.id&&(h.src=t.src)}):h.src=h.dataset.imageFallback))},_showDiscountedPriceBreakdown:function(t,e,i,r,n){i.classList.toggle("ocu-hidden",!t),r.classList.toggle("ocu-totals__was--line-through",t),r.classList.toggle("ocu-totals__has",!t),n.classList.toggle("ocu-hidden",!e)},preventClickActions:function(){var t=document.querySelectorAll("[data-ocu-close-popup], [data-ocu-buy-button], [data-ocu-decline], [data-product-description] a");Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){t.preventDefault()})})},initOptionsSelectors:function(t,e){this.precheckoutOffer=t,new Shopify.OptionSelectors("ocu_checkout_variant",{product:t,onVariantSelected:e,enableHistoryState:!1});var i=this.popup?this.popup.modal.modalElem():document;this.discountVariants=JSON.parse(i.querySelector("[data-ocu-discount-values]").value||"{}"),Shopify.linkOCUOptionSelectors(t,i);var r,n,o,a=t.variants&&1===t.variants.length&&"Default Title"===t.variants[0].option1&&"Default Title"===t.variants[0].title;a&&(r=i.querySelector(".selector-wrapper")).parentNode.removeChild(r),1!==t.options.length||a||((n=i.querySelector(".selector-wrapper"))&&n.querySelector("label")||((o=document.createElement("label")).classList.add("control-label","col-sm-4","col-md-5"),o.for="variant-option-0",o.innerText=t.options[0]+":",n.prepend(o)))},initComponents:function(t){var e=t.querySelector("[data-ocu-template-type]");this.popupType=e.dataset.ocuTemplateType,m.initBaron(t,"-main"),"upgrade"===this.popupType&&this.renderReplaceProduct(t),m.initWebfont(this.preview),t.querySelector("[data-ocu-modal-box]").classList.remove("ocu-hidden")},initPreviewMode:function(t){f=!0,this.preventClickActions();var e,i=document.querySelector("[data-replacement-product-title]");i&&(e=i.dataset.replacementProductTitle,m.isMobile||(e=m.cutString(e,45)),i.innerText=e);var r=document.querySelectorAll("[data-ocu-buy-button], [data-ocu-decline]");Array.from(r,function(t){this._handleButtonBehaviour(t)}.bind(this)),h.initAxios(function(){this.initSelectors(document).then(function(){m.initBaron(document,"-main"),document.querySelector("html").style.overflow="hidden",document.querySelector("[data-ocu-modal-box]").classList.remove("ocu-hidden"),document.body.click()})}.bind(this)),p.cookie=t.cookie,window.OCUCountdown||(window.OCUCountdown={countdown:this.countdown.start.bind(this.countdown)})},renderReplaceProduct:function(t){this.replaceVariant=m.findReplaceVariant(this.cart,this.cartProductVariant,this.isVariantReplaced);var e,i=this.replaceVariant.title,r=t.querySelector("[data-replacement-product-title]");m.isMobile||(i=m.cutString(i,45)),t.querySelector("[data-replacement-product-image]").src=this.replaceVariant.image,r.innerText=i,m.isTablet&&((e=t.querySelector("[data-replace-title-hint]")).innerText=this.replaceVariant.title,r.addEventListener("click",function(){e.classList.remove("ocu-hidden")}),t.addEventListener("click",function(t){void 0===t.target.dataset.replacementProductTitle&&e.classList.add("ocu-hidden")}))},handleClose:function(t,e,i){var r=e.beforeClose;e.beforeClose=function(){},e.close(),i&&i(e.modalElem()),e.beforeClose=r},_handleButtonBehaviour:function(e){e.addEventListener("mouseover",function(){var t=e.dataset.bgcolorHover;this._toggleButtonState(e,t,t,t)}.bind(this)),e.addEventListener("mouseout",function(){this._toggleButtonState(e,e.dataset.textColor,e.dataset.bgcolor,e.dataset.bgcolor)}.bind(this))},_toggleButtonState:function(t,e,i,r){t.dataset.textColor?(t.style.color=e,t.style.border="1px solid "+i):t.style.backgroundColor=r},_handleBuyButton:function(t){p.cookie.set("ocu_popup_token",this.cart.token),p.cookie.set("ocu_timer_end",""),"upgrade"===this.popupType&&this._updateAndCheckout(1),"incart"===this.popupType&&this._addAndCheckout(1),m.loader(t,!0)},offerId:function(){return this.shownId||this.incartOffer.id},get _offerId(){return this.shownId||this.incartOffer.id},_initUpdater:function(t){try{this.updater=new t,this.updater.init(),r.updater=this.updater,p.store.set("cartUpdated",!0)}catch(t){console.log("deprecated snippet")}},_updateAndCheckout:function(t){var e=this;if(!this.updater||!this.updater.form){var i=m.getCartItemById(+e.cartProductVariant,e.cart.items,this.isVariantReplaced),r={};return r[i.id]=i.quantity-1,h.updateCart(r).then(function(){h.addCart({quantity:t,id:e.precheckoutOfferVariant.id,properties:{_ocu_offer_id:e.shownId.toString()}}).then(function(t){p.store.set("offer","upgrade"),h.sendAccepted(e.offerId(),e._acceptConfig(t)).then(l)}).catch(l)}).catch(l)}var n=this.precheckoutOfferVariant.id,o=m.getCartItemById(+this.cartProductVariant,this.cart.items,this.isVariantReplaced),a=m.getCartItemLine(+this.cartProductVariant,this.cart.items,this.isVariantReplaced),c={_ocu_offer_id:this.shownId.toString()},s={id:n,quantity:t,properties:c};this.updater.acceptUpgradeOffer(s,o,a).then(function(t){p.store.set("offer","upgrade"),h.sendAccepted(e.offerId(),e._acceptConfig(t)).then(l)}).catch(function(t){console.log(t),l()})},_addAndCheckout:function(t){var e=this,i=this;if(!this.updater){var r={};return r.quantity=t,r.id=this.precheckoutOfferVariant.id,r.properties={_ocu_offer_id:this.shownId.toString()},h.addCart(r).then(function(t){p.store.set("offer","add"),h.sendAccepted(i.offerId(),i._acceptConfig(t)).then(l)}).catch(function(){l()})}var n=this.precheckoutOfferVariant.id,o={id:n,quantity:t,properties:{_ocu_offer_id:this.shownId.toString()}},a={};a[this._offerId]={quantity:t,status:"accepted",shopify_variant_id:n};this.updater.acceptAddOffer(o).then(function(t){a[e._offerId].shown_at=Date.now(),a[e._offerId].key=t.data.key,p.store.set("offer","add"),h.sendAccepted(i.offerId(),i._acceptConfig(t)).then(function(t){l(t)})}).catch(function(t){console.log(t),l()})},_acceptConfig:function(t){t.data.key;var e=this.replaceVariant?this.replaceVariant.price/100||0:null,i={},r=m.getCartItems(this.cart).line_items;"upgrade"===this.popupType&&(i={product_id:this.replaceVariant.product_id,variant_id:this.replaceVariant.variant_id,product_title:this.replaceVariant.product_title,variant_title:this.replaceVariant.variant_title,price:e},r=m.updateReplacementItem(r,this.replaceVariant.variant_id));var n={properties:{_ocu_offer_id:this.offerId()},product_id:this.precheckoutOfferVariant.product_id,variant_id:this.precheckoutOfferVariant.id,replacement:i,quantity:1,price:+this.precheckoutOfferVariant.price};return r.push(n),{checkout:{cart_token:this.cart.token,line_items:r,note:this.cart.note,attributes:this.cart.attributes}}},_skipOffer:function(){var e=this;m.loader(this.popup.modal.modalElem(),!0);var i={};i[this.offerId()]=this.upsellConfig(this.popupType,this.actionType),"skipped"!==this.actionType&&(p.cookie.set("ocu_popup_token",this.cart.token),p.cookie.set("ocu_timer_end","")),p.cookie.remove("ocu_popup_staged",this.cart.token),document.body.style.position="static";var t=this.cart.items.find(function(t){return t.properties&&t.properties._ocu_offer_id});if("declined"===this.actionType)return this.trackDecline(t).then(l).catch(l);if(!t)return this.handleSkippedCase(this.actionType,i);var r={checkout:{line_items:m.getCartItems(this.cart).line_items,cart_token:this.cart.token,verify_draft_order:!0}};h.verifyPrePurchase(r).then(function(t){i.data=t.data,e.handleSkippedCase(e.actionType,i)}).catch(function(){e.handleSkippedCase(e.actionType,i)})},handleSkippedCase:function(t,e){"skipped"===t&&l(e)},trackEvents:function(t){try{ga("send",{hitType:"event",eventCategory:"OCU EnhancedEcommerce",eventAction:"upgrade"===t?"Upgraded Product":"Added Product"})}catch(t){return t}},trackDecline:function(t){return h.sendDecline(this.offerId(),{checkout:{cart_token:this.cart.token,line_items:m.getCartItems(this.cart).line_items,verify_draft_order:!!t,note:this.cart.note,attributes:this.cart.attributes},offer:{product_id:this.precheckoutOfferVariant.product_id,variant_id:this.precheckoutOfferVariant.id}})},upsellConfig:function(t,e){var i={status:e,shopify_variant_id:this.precheckoutOfferVariant?this.precheckoutOfferVariant.id:null,quantity:1,shown_at:Date.now()};return"upgrade"===t&&Object.assign(i,{replacement_product_shopify_id:this.offerId(),replacement_variant_shopify_id:this.precheckoutOfferVariant.id,replacement_product_title:this.precheckoutOffer.title,replacement_variant_title:this.precheckoutOfferVariant.title}),i},calcDiscountPrice:function(t,e,i){return 0===e?null:("percent"===t&&(i*=(100-e)/100),"amount"===t&&(i-=e),"none"===t?null:i<=0?0:(Math.round(100*i)/100).toFixed(2))},handleDiscountPrice:function(t,e){e.was.innerHTML=y.formatNumber(t.price,this.moneyFormat,this.currency),e.has.innerHTML=y.formatNumber(t.discounted_price,this.moneyFormat,this.currency);var i=e.save.dataset.ocuSavingsText;return e.save.innerHTML=i,t.discounted_price},handleCompareAtPrice:function(t,e,i,r){var n=r.dataset.ocuSavingsText,o=+t.compare_at_price,a=+t.price,c=o-a,s=c<=0?0:c,u=y.formatNumber(s,this.moneyFormat,this.currency),d=!o||o<=a;return this._setOCUPriceSave(u),o=d?a:o,e.innerHTML=y.formatNumber(o,this.moneyFormat,this.currency),i.innerHTML=y.formatNumber(a,this.moneyFormat,this.currency),r.innerHTML=n,!d},_showDiscountedLabels:function(t,e){var i={compare_at_price:i=t.querySelector("[data-ocu-price-save]").dataset.ocuPriceSave,percent:i+"%",amount:y.formatNumber(this._calcSavingsAmount(i),this.moneyFormat,this.currency),none:i}[e],r=t.querySelectorAll("[data-ocu-discount]");Array.from(r,function(t){t.innerHTML=i})},_calcSavingsAmount:function(t){var e=+this.precheckoutOfferVariant.price;return e<+t?e:t},_showPriceLabels:function(t,e,i){var r=e.innerHTML,n=t.querySelectorAll("[data-".concat(i,"-variable]"));Array.from(n,function(t){t.innerHTML=r})},_showQuantityLabels:function(t){var e=t.querySelectorAll("[data-ocu-quantity]");Array.from(e,function(t){t.innerText="1"})},_setOCUPriceSave:function(t){return document.querySelector("[data-ocu-price-save]").dataset.ocuPriceSave=t,!1}};var r={updater:null};function i(t,e,i){this.content=t,this.onCreate=e,this.onClose=i,this.init()}i.prototype={show:function(){this.modal.show()},init:function(){this.modal=picoModal(this.config(this.content)).afterCreate(this.onCreate).beforeClose(this.onClose),this.modal.close=this.onClose,document.documentElement.addEventListener("keydown",function(t){27===(t.which||t.keyCode)&&this.onClose()}.bind(this)),window.addEventListener("pageshow",function(){m.isIOS&&(document.querySelector("#ocu-modal").style.display="none",document.querySelector(".pico-overlay").style.display="none",window.location.reload())})},config:function(t){var e=m.isMobile&&!m.isTablet?"100%":"unset",i=m.isMobile?"100%":"756px",r=m.isMobile?"100%":"90%",i=m.isTablet?"700px":i;return{content:t,closeButton:!1,overlayClose:!1,escCloses:!1,modalClass:"ocu-modal",modalId:"ocu-modal",modalStyles:{maxHeight:r=m.isTablet?"675px":r,height:e,width:i,zIndex:1999999999,"pointer-events":"auto"}}}};var h={getCart:function(){return axios.get("/cart.json")},updateCart:function(t){return axios.post("/cart/update.js",{updates:t})},addCart:function(t){return axios.post("/cart/add.js",t)},sendAccepted:function(t,e){var i="/pre_purchase/:id/accept".replace(":id",t);return axios.post(window.OCUIncart.proxy_url+i,e)},sendDecline:function(t,e){var i="/pre_purchase/:id/decline".replace(":id",t);return axios.post(window.OCUIncart.proxy_url+i,e)},getProduct:function(t){var e="/products/";return f&&(e="https://"+document.querySelector("[data-shop-domain]").value+e),axios.get(e+t+".json")},getPopup:function(t,e){return t="/offers/incart?"+t,axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",axios.post(window.OCUIncart.proxy_url+t,e)},initAxios:function(t){var e=document.createElement("script");document.head.appendChild(e),e.src="https://d1u9wuqimc88kc.cloudfront.net/vendor/axios.min.js",e.onload=t},verifyPrePurchase:function(t){return axios.post(window.OCUIncart.proxy_url+"/pre_purchase/verify",t)}},m={get isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)},get isMobile(){var t=document.body.clientWidth<699;return/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Mobile|Opera Mini/i.test(navigator.userAgent)||t},get isTablet(){return/iPad/i.test(navigator.userAgent)},get isTimerEnabled(){var t=document.querySelectorAll("[data-ocu-timer]");return!!t.length&&!t[0].classList.contains("ocu-hidden")},parseTriggers:function(t){var e={};return t.split(",").forEach(function(t){0!==t.length&&(t=t.split(":"),e.hasOwnProperty(t[1])||(e[t[1]]=t[0]))}),e},findReplaceVariant:function(t,e,i){var r=t.items.filter(function(t){return t.product_id===+e});return i&&(r=t.items.filter(function(t){return t.id===+e})),0<r.length?r[0]:r},isProductInCart:function(t,e){return t.items.some(function(t){return t.product_id===e})},isVariantInCart:function(t,e){return t.items.some(function(t){return t.variant_id===e})},hasHiddenAlt:function(t){return t.alt&&t.alt.hide_if_in_cart},isAlternativeHidden:function(t,e){return!!this.hasHiddenAlt(e)&&!!m.isProductInCart(t,e.alt.shopify_product_id)},formatProduct:function(t,e){var i=[];return t.options.forEach(function(t){i.push(t.name)}),t.options=i,e&&(t.variants=t.variants.filter(function(t){return~e.indexOf(t.id)})),t},parseAvailableVariants:function(t){var e=(e=t.querySelector("[data-available-variants]")).dataset.availableVariants;return JSON.parse(e)},getCartItemById:function(e,t,i){return i?t.find(function(t){return t.id===e})||{}:t.find(function(t){return t.product_id===e})||{}},getCartItemLine:function(e,t,i){return i?t.findIndex(function(t){return t.id===e})+1||null:t.findIndex(function(t){return t.product_id===e})+1||null},getCartItems:function(t){var e=["properties","quantity","variant_id","product_id","price","original_price","discounted_price","line_price","original_line_price","final_price","final_line_price"];return{line_items:t.items.map(function(i){return e.reduce(function(t,e){return t[e]=i[e],t},{})})}},updateReplacementItem:function(t,e){return t.map(function(t){return t.variant_id!==e?t:1!==t.quantity?(--t.quantity,t):void 0})},cutString:function(t,e){var i=t.length<e,r=t.split(" "),n="";r.forEach(function(t){n.length+t.length<=e?n+=t+" ":e=0});var o=(n=n.trim()).length-1;return/(\.|\?|\!)/.test(n.charAt(o))||i?n:n+"..."},filterSubscriptionsPriority:function(r,i){var n={},o=1/0;return Object.keys(r).forEach(function(t){n[t]=[]}),Object.keys(i).forEach(function(t){var e=i[t];Object.keys(r).forEach(function(t){var i;if(!e.tag_titles.length||(i=e.tag_titles[0].toLowerCase(),~r[t].indexOf(i))){if(e.variant_ids.length&&e.variant_ids.forEach(function(e){Object.keys(r).forEach(function(t){+t===e&&(i=e)})}),!(0<n[t].length))return o=e.priority,n[t].push(i);e.priority<o&&(o=e.priority,n[t]=[i])}})}),n},parseSubscriptions:function(t){var e={};return t.split(";").map(function(t){var e=t.split("_[");return 1<e.length&&(e[1]="["+e[1]),e}).forEach(function(t){t.length<2||(e[t[0]]=JSON.parse(t[1]))}),e},buildTriggersLine:function(e){var i="";return Object.keys(e).forEach(function(t){i+=t+":"+e[t]+","}),i},initBaron:function(t,e){baron({root:t.querySelector("[data-baron-root"+e+"]"),scroller:t.querySelector("[data-baron-scroller"+e+"]"),bar:t.querySelector("[data-baron-bar"+e+"]")}).controls({track:t.querySelector("[data-baron-track"+e+"]")})},loader:function(t,e){t.querySelector(".ocu-spin").classList.toggle("ocu-hidden",!e),t.querySelector(".ocu-loading-title").classList.toggle("ocu-hidden",!e);var i=t.querySelectorAll("button,input,select,a"),r=t.querySelectorAll("[data-will-be-disabled]");Array.prototype.forEach.call(r,function(t){t.classList.add("ocu-opacity")}),Array.prototype.forEach.call(i,function(t){t.disabled=!0,t.style.cursor="default"})},initWebfont:function(t){var r={"bebas-neue-by-fontfabric":"iee3vml"},n=document.querySelector("[data-font-families]"),n=JSON.parse(n.innerHTML),o=[];if(t?(n=GOOGLE_FONT_FAMILIES,o=Object.keys(r).map(function(t){return r[t]})):n.forEach(function(t,e){var i=t.split(":")[0];-1!==Object.keys(r).indexOf(i)&&(o.push(r[i]),n.splice(e,1))}),n.length||o.length)try{var e={google:{families:n},classes:!1,timeout:9e3};o.length&&(e.typekit={id:o}),WebFont.load(e)}catch(t){console.error(t)}},getIdsInCart:function(t,e,i){var r=t.items.map(function(t){return t[e]}),n=i.advancedProductOptions;return n&&n.present?this.uniqArray(r.concat(n.relations)):this.uniqArray(r)},getReplacedId:function(t,e,i){var r=i.advancedProductOptions;if(!r||!r.present)return e;var n=t.items.find(function(t){return t.properties&&t.properties._mw_option_relation&&+t.properties._mw_option_relation.split("_")[0]===e});return n?n.id:e},isSameCart:function(t){var e=p.cookie.get("ocu_cart_items"),i=t.items.map(function(t){return t.key});if(p.cookie.set("ocu_cart_items",JSON.stringify(i)),!e)return!1;var r=new Set(i),n=new Set(JSON.parse(e));return m.areSetsEqual(r,n)},isSameCartToken:function(t){return t.token===p.cookie.get("ocu_popup_token")},areSetsEqual:function(t,e){return t.size===e.size&&Array.from(t).every(function(t){return e.has(t)})},uniqArray:function(t){return Array.from(new Set(t))}},d=(document.querySelector("[data-quantity-input]"),document.querySelector("[data-quantity-increment]"),document.querySelector("[data-quantity-decrement]"),".single-option-selector");Shopify.ocuOptionsMap={},Shopify.updateOCUOptionsInSelector=function(t,e){switch(e=e||document,t){case 0:var i="root",r=e.querySelectorAll(d)[0];break;case 1:i=e.querySelectorAll(d)[0].value,r=e.querySelectorAll(d)[1];break;case 2:i=e.querySelectorAll(d)[0].value;i+=" / "+e.querySelectorAll(d)[1].value;r=e.querySelectorAll(d)[2]}var n=r.value,o=r.querySelectorAll('option:not([value=""])');Array.prototype.forEach.call(o,function(t){r.removeChild(t)});var a=Shopify.ocuOptionsMap[i];if(a){for(var c=0;c<a.length;c++){var s=a[c],u=document.createElement("option");u.value=s,u.innerHTML=s,r.appendChild(u)}-1!==a.indexOf(n)&&(r.value=n),r.dispatchEvent(new Event("change"))}},Shopify.linkOCUOptionSelectors=function(t,e){Shopify.ocuOptionsMap={};for(var i=0;i<t.variants.length;i++){var r,n=t.variants[i];Shopify.ocuOptionsMap.root=Shopify.ocuOptionsMap.root||[],Shopify.ocuOptionsMap.root.push(n.option1),Shopify.ocuOptionsMap.root=Shopify.uniq(Shopify.ocuOptionsMap.root),1<t.options.length&&(r=n.option1,Shopify.ocuOptionsMap[r]=Shopify.ocuOptionsMap[r]||[],Shopify.ocuOptionsMap[r].push(n.option2),Shopify.ocuOptionsMap[r]=Shopify.uniq(Shopify.ocuOptionsMap[r])),3===t.options.length&&(r=n.option1+" / "+n.option2,Shopify.ocuOptionsMap[r]=Shopify.ocuOptionsMap[r]||[],Shopify.ocuOptionsMap[r].push(n.option3),Shopify.ocuOptionsMap[r]=Shopify.uniq(Shopify.ocuOptionsMap[r]))}Shopify.updateOCUOptionsInSelector(0,e),1<t.options.length&&Shopify.updateOCUOptionsInSelector(1,e),3===t.options.length&&Shopify.updateOCUOptionsInSelector(2,e);var o=e.querySelectorAll(d);o[0]&&o[0].addEventListener("change",function(){1<t.options.length&&Shopify.updateOCUOptionsInSelector(1,e),3===t.options.length&&Shopify.updateOCUOptionsInSelector(2,e)}),o[1]&&o[1].addEventListener("change",function(){3===t.options.length&&Shopify.updateOCUOptionsInSelector(2,e)})};var y={currenciesWithoutDec:["BYR","XAF","XPF","CLP","KMF","JPY","PYG","RWF","KRW","VND","VUV","XOF","MGA","UGX","ISK"],types:{amount:[2,",","."],amount_no_decimals:[0,",","."],amount_with_comma_separator:[2,".",","],amount_no_decimals_with_comma_separator:[0,".",","],amount_with_space_separator:[2," ",","],amount_no_decimals_with_space_separator:[0," ",","],amount_with_apostrophe_separator:[2,"'","."]},entities:{"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"'","&#39;":"'","&#x2F;":"/","&nbsp;":" ","&pound;":"£","&euro;":"€","&dollar;":"$"},type:function(t){var e=/\{\{\s*(\w+)\s*\}\}/.exec(t)[1];return this.types[e]},toFixed:function(t,e){var i=Math.pow(10,e);return(Math.round((t+1e-8)*i)/i).toFixed(e)},formatNumber:function(t,e,i){e=this.rawHTML(e);var r=this._formatNumber(t,this.type(e),i);return e.replace(/\{\{\s*\w+\s*\}\}/,r)},_formatNumber:function(t,e,i){var r=this.currenciesWithoutDec.indexOf(i),r=this.currenciesWithoutDec[r];e={precision:e[0],thousand:e[1],decimal:e[2]};var n=t<0?"-":"",o=parseInt(this.toFixed(Math.abs(t),e.precision),10)+"",a=3<o.length?o.length%3:0,c=n+(a?o.substr(0,a)+e.thousand:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+e.thousand)+(0<e.precision?e.decimal+this.toFixed(Math.abs(t),e.precision).split(".")[1]:"");return r?c.split(e.decimal)[0]:c},rawHTML:function(t){return t?t.replace(/(&[#\w]+;)/g,function(t){return this.entities[t]||t}.bind(this)):t}};function o(t){this.el=t,this.offerId=null,this.precheckoutOfferVariant=null,this.onTimerEnd=function(){}}o.prototype={init:function(t,e){var i="[data-ocu-timer-limit]",r=(Date.now(),p.cookie.get("ocu_timer_end"));e&&(this.el=e),this.countdown=this.el?this.el.querySelector(i):document.querySelector(i),this.limit=t||+this.countdown.dataset.ocuTimerLimit;var n=Date.now()+60*this.limit*1e3,o=r||n;p.cookie.set("ocu_timer_end",r||n),this.initializeClock(o)},start:function(t){p.cookie.set("ocu_timer_end",""),clearInterval(this.timeinterval),this.init(t)},getTimeRemaining:function(t){var e=t-Date.now(),i=Math.floor(e/1e3%60);return{total:e,minutes:Math.floor(e/1e3/60%60),seconds:i}},initializeClock:function(e){var i=this,r=this.countdown.querySelector("[data-countdown-minutes]"),n=this.countdown.querySelector("[data-countdown-seconds]");function t(){var t=i.getTimeRemaining(e);r.innerText=("0"+t.minutes).slice(-2),n.innerText=("0"+t.seconds).slice(-2),t.total<=0&&(r.innerText="--",n.innerText="--",clearInterval(i.timeinterval),i.onTimerEnd())}t(),this.timeinterval=setInterval(t,1e3)},adjustTime:function(){p.cookie.get("ocu_timer_end")<Date.now()&&p.cookie.set("ocu_timer_end","")}}}();